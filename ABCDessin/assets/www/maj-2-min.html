<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-type" name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
    <title>ABCDessin</title>

 	<link rel="stylesheet" href="jquery.mobile/jquery.mobile-1.1.0.min.css" />

    <script src="jquery.mobile/jquery-1.7.2.min.js"></script>
	<script src="jquery.mobile/jquery.mobile-1.1.0.min.js"></script>
	<script type="text/javascript" charset="utf-8" src="cordova-1.9.0.js"></script>
	<script type="text/javascript" charset="utf-8" src="js-project/image-handler.js"></script>
    <script type="text/javascript" charset="utf-8" src="index.js"></script>
    <script type="text/javascript">
        
        var imageManager = new imageHandler();
        var tabLetters, atrouve;
        
        function init(){
            tabLetters = new Array();
            
            $("#reponse").html("&nbsp;");
            
            $(".suggess").each(function(){
                letter = imageManager.generateRandomLetter();
                tabLetters.push(letter);
                
                ressource = imageManager.getHtmlRessource(letter, false);
                $(this).html(ressource);
            });
            
            atrouve   = tabLetters[Math.floor(Math.random()*tabLetters.length)];
            ressource = imageManager.getHtmlRessource(atrouve.toUpperCase(), false);
            
            $("#atrouve").html(ressource);
        }
        
        function validate(el){
            html   = $(el).html();
            letter = $(el).find("span:first").html().toLowerCase();
            
            if(letter == atrouve){
                $("#reponse").html(html);
                myTimer = setTimeout(function(){
                                        alert("Bravo !");
                                        init();
                                    }, 
                                    500);
            }
        }
    
        $(document).ready(function(){
            init();
            $(".suggess").click(function(){
                validate($(this));
            });
        });
    </script>
  
    <!-- CDN Respositories: For production, replace lines above with these uncommented minified versions -->
    <!-- <link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />-->
    <!-- <script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>-->
    <!-- <script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>-->
    </head>
  
  <body>
    <div data-role="page" id="page-cur-2-maj" class="type-interior" data-theme="b">
        <div data-role="header" data-theme="b">
            <h1>a -> A</h1>
            <a href="index.html" rel="external" data-icon="home" data-iconpos="notext" id="intro" class="ui-btn-right">Accueil</a>
        </div>
        <div data-role="content" data-theme="c">
          <div style="overflow:hidden;display:block;">
              <div id="atrouve" style="text-align:center;font-size:8em;width:48%; float:left;min-height:100px;margin: 0 auto;border:1px solid #000000">
              </div>
              <div id="fleche" style="float:left;margin:1%;text-align:center;">
                  =>
              </div>
              <div id="reponse" style="text-align:center;font-size:8em;width:48%; float:left;min-height:200px;margin: 0 auto;border:1px solid #000000">
              </div>
          </div>
          
          <div style="overflow:hidden;display:block;">
              <div class="suggess" style = "text-align:center; font-size:4em; width:31%; margin:1%; border:1px solid #000000; min-height:100px; float:left;">
              </div>
              <div class="suggess" style = "text-align:center; font-size:4em; width:31%; margin:1%; border:1px solid #000000; min-height:100px; float:left;">
              </div>
              <div class="suggess" style = "text-align:center; font-size:4em; width:31%; margin:1%; border:1px solid #000000; min-height:100px; float:right;">
              </div>
              <div class="suggess" style = "text-align:center; font-size:4em; width:31%; margin:1%; border:1px solid #000000; min-height:100px; float:left;">
              </div>
              <div class="suggess" style = "text-align:center; font-size:4em; width:31%; margin:1%; border:1px solid #000000; min-height:100px; float:left;">
              </div>
              <div class="suggess" style = "text-align:center; font-size:4em; width:31%; margin:1%; border:1px solid #000000; min-height:100px; float:right;">
              </div>
          </div>
        </div>
    </div>          
  </body>
</html>
